# π” TLS/SSL Handshake

---

## π“ κ°μ”

-  TLS/SSL Handshakeλ” **HTTPS ν†µμ‹ μ—μ„ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„**μ— **μ‹ λΆ°μ„±, μ•”νΈν™”, λ¬΄κ²°μ„±**μ„ ν™•λ³΄ν•κΈ° μ„ν• **μ΄κΈ° μ—°κ²° κ³Όμ •**

- μ΄ κ³Όμ •μ„ ν†µν•΄ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈλ” μ•μ „ν• **λ€μΉ­ν‚¤**λ¥Ό κ³µμ ν•κ² λλ©°, μ΄ν›„ λ°μ΄ν„° ν†µμ‹ μ€ μ΄ λ€μΉ­ν‚¤λ¥Ό μ΄μ©ν•μ—¬ λΉ λ¥΄κ³  μ•μ „ν•κ² μ§„ν–‰

---

## π”„ μ§„ν–‰ μμ„

### 1. Client Hello
- ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„λ΅ μ „μ†΅
- ν¬ν•¨ μ •λ³΄:
  - TLS λ²„μ „
  - μ§€μ› μ•”νΈν™” μ•κ³ λ¦¬μ¦
  - μ••μ¶• λ°©μ‹
  - λλ¤ λ°μ΄ν„° (Client Random)
  - μ„Έμ… ID λ“±

---

### 2. Server Hello + μΈμ¦μ„ μ „λ‹¬
- μ„λ²„ β†’ ν΄λΌμ΄μ–ΈνΈλ΅ μ‘λ‹µ
- ν¬ν•¨ μ •λ³΄:
  - μ„ νƒν• μ•”νΈν™” μ•κ³ λ¦¬μ¦
  - μ„λ²„ μΈμ¦μ„ (CAμ— μν•΄ μ„λ…λ¨)
  - μ„λ²„ λλ¤ λ°μ΄ν„° (Server Random)
  - ν•„μ”ν• κ²½μ° ν΄λΌμ΄μ–ΈνΈ μΈμ¦μ„ μ”μ²­

---

### 3. μΈμ¦μ„ ν™•μΈ (ν΄λΌμ΄μ–ΈνΈ μΈ΅)
- ν΄λΌμ΄μ–ΈνΈλ” λ°›μ€ μ„λ²„ μΈμ¦μ„κ°€ μ‹ λΆ°ν•  μ μλ” CAμ— μν•΄ μ„λ…λμ—λ”μ§€ **μΈμ¦μ„ μ²΄μΈ**μ„ ν†µν•΄ κ²€μ¦
- κ²€μ¦ μ„±κ³µ μ‹ μ„λ²„μ **κ³µκ°ν‚¤** νλ“

---

### 4. Pre-Master Secret μƒμ„± λ° μ „μ†΅
- ν΄λΌμ΄μ–ΈνΈλ” **Pre-Master Secret (λ‚μ)** λ¥Ό μƒμ„±
- μ„λ²„μ **κ³µκ°ν‚¤λ΅ μ•”νΈν™”** ν›„ μ„λ²„λ΅ μ „μ†΅

> μ΄ Pre-Master Secretμ€ μ΄ν›„ **Client Random + Server Random**κ³Ό ν•¨κ» λ€μΉ­ν‚¤(λ§μ¤ν„° ν‚¤)λ¥Ό μƒμ„±ν•λ” λ° μ‚¬μ©λ¨

---

### 5. (μ„ νƒ) ν΄λΌμ΄μ–ΈνΈ μΈμ¦
- μ„λ²„κ°€ μ”μ²­ν• κ²½μ°:
  - ν΄λΌμ΄μ–ΈνΈλ” μμ‹ μ **μΈμ¦μ„**μ™€
  - **κ°μΈν‚¤λ΅ μ„λ…ν• λ‚μ λ°”μ΄νΈ** μ „μ†΅

---

### 6. μ„λ²„ β†’ Pre-Master Secret λ³µνΈν™”
- μ„λ²„λ” μμ‹ μ **κ°μΈν‚¤**λ΅ Pre-Master Secret λ³µνΈν™”
- μ–‘μΈ΅μ€ λ™μΌν• λλ¤κ°’ κΈ°λ°μΌλ΅ **Master Secret(λ€μΉ­ν‚¤)** μƒμ„±

---

### 7. Finished λ©”μ‹μ§€ (Client β†’ Server)
- ν΄λΌμ΄μ–ΈνΈ:
  - μ§€κΈκΉμ§€μ κµν™ λ‚΄μ—­μ„ ν•΄μ‹±ν• ν›„
  - **λ€μΉ­ν‚¤λ΅ μ•”νΈν™”**
  - `Finished` λ©”μ‹μ§€ μ „μ†΅

---

### 8. Finished λ©”μ‹μ§€ (Server β†’ Client)
- μ„λ²„λ„ λ™μΌν•κ² `Finished` λ©”μ‹μ§€λ¥Ό μƒμ„±ν•κ³  λ€μΉ­ν‚¤λ΅ μ•”νΈν™”ν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ—κ² μ „μ†΅

---

## π” μ΄ν›„ ν†µμ‹ 
- ν•Έλ“μ…°μ΄ν¬ μ™„λ£ ν›„:
  - **μ–‘μΈ΅μ€ λ™μΌν• λ€μΉ­ν‚¤λ΅ μ•”νΈν™”λ ν†µμ‹ **μ„ μ‹μ‘
  - λ¨λ“  λ°μ΄ν„°λ” SSL/TLS ν”„λ΅ν† μ½μ— λ”°λΌ μ•”νΈν™”λμ–΄ μ•μ „ν•κ² μ „μ†΅λ¨

---

## π“ ν•µμ‹¬ μ”μ•½

| λ‹¨κ³„             | μ—­ν•  μ„¤λ…                                                           |
|------------------|----------------------------------------------------------------------|
| Client Hello     | ν΄λΌμ΄μ–ΈνΈκ°€ ν†µμ‹  μ΅°κ±΄ μ μ• λ° λλ¤κ°’ μ „λ‹¬                          |
| Server Hello     | μ„λ²„κ°€ ν†µμ‹  μ΅°κ±΄ μλ½ λ° μΈμ¦μ„ μ „μ†΅                                 |
| μΈμ¦μ„ ν™•μΈ      | ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„ κ³µκ°ν‚¤ μ‹ λΆ°μ„± κ²€μ¦                                 |
| Pre-Master μ „μ†΅  | ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„, κ³µκ°ν‚¤λ΅ λ€μΉ­ν‚¤ μ•”νΈν™” μ „λ‹¬                      |
| Finished λ©”μ‹μ§€   | μ–‘μΈ΅μ΄ κµν™ν• λ‚΄μ©μ„ ν™•μΈν•κ³  λ€μΉ­ν‚¤λ΅ μ•”νΈν™”λ μ™„λ£ λ©”μ‹μ§€ μ „μ†΅      |
| μ΄ν›„ ν†µμ‹         | λ€μΉ­ν‚¤λ΅ μ•”νΈν™”λ μ‹¤μ  λ°μ΄ν„° ν†µμ‹  μ‹μ‘                             |
