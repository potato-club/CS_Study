# 📌 경쟁 상태 (Race Condition)

## 개념
공유 자원에 대해 여러 프로세스나 스레드가 **동시에 접근**할 때, 실행 결과에 영향을 줄 수 있는 상태를 말한다.  
이로 인해 데이터의 일관성이 깨질 수 있다.


## Race Condition 발생하는 경우

### 1. 커널 작업 중 인터럽트 발생
- **문제점**: 커널 모드에서 데이터를 조작 중 인터럽트가 발생하고, 인터럽트 핸들러가 같은 데이터를 다시 조작하는 경우
- **해결법**: 커널 모드 작업 수행 중에는 인터럽트를 비활성화(disable)하여 CPU 제어권을 빼앗기지 않도록 함

### 2. 시스템 콜 중 문맥 교환(Context Switch)
- **문제점**: 프로세스1이 커널 모드에서 데이터를 조작하던 중 시간 초과로 프로세스2로 전환되고, 프로세스2가 같은 데이터를 조작하면 이전 작업이 반영되지 않음
- **해결법**: 커널 모드 작업이 완료될 때까지 문맥 교환을 허용하지 않음

### 3. 멀티 프로세서 환경에서 공유 메모리에 접근
- **문제점**: 여러 CPU가 동시에 공유 메모리 내 커널 데이터를 조작할 경우, Race Condition 발생
- **해결법**: 공유 데이터에 접근할 때마다 해당 데이터에 대해 lock/unlock 사용하여 동기화 처리


> Race Condition은 동기화되지 않은 병렬 처리에서 발생한다.  
> 항상 동기화 기법 (Lock, Semaphore 등)을 사용해 문제를 방지해야 한다.

