# π’» [TCP] 3 way handshake & 4 way handshake

> μ—°κ²°μ„ μ„±λ¦½ν•κ³  ν•΄μ ν•λ” κ³Όμ •

---


## 1. β… 3 way handshake - μ—°κ²°

![img_1.png](img_1.png)
- TCP λ” μ •ν™•ν• μ „μ†΅μ„ λ³΄μ¥ν•΄μ•Όν•λ‹¤. λ”°λΌμ„ ν†µμ‹ ν•κΈ°μ— μ•μ„, λ…Όλ¦¬μ μΈ μ ‘μ†μ„ μ„±λ¦½ν•κΈ° μ„ν•΄ 3way handshake κ³Όμ •μ„ μ§„ν–‰ν•λ‹¤.


1. ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—κ² SYN λ³΄λƒ„
2. μ„λ²„κ°€ SYN λ°›κ³ , ν΄λΌμ΄μ–ΈνΈλ΅ λ°›μ•λ‹¤λ” μ‹ νΈ ACK + SYN λ³΄λƒ„
3. ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ μ‘λ‹µ ACK + SYN λ°›κ³  ACK + 1μ„ λ³΄λƒ„

## 2. β… 4 way handshake - μ—°κ²° ν•΄μ 

![img_2.png](img_2.png)

μ—°κ²° μ΄ν›„ ν†µμ‹ μ„ ν•΄μ ν•΄μ•Όν•λ‹¤

1. ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ—κ² μ—°κ²° μΆ…λ£ν•λ‹¤λ” FIN ν”λκ·Έ μ „μ†΅
2. μ„λ²„λ” FINμ„ λ°›κ³ , ν™•μΈν–λ‹¤λ” ACKλ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² λ³΄λ‚Έλ‹¤. (μ΄λ• λ¨λ“  λ°μ΄ν„°λ¥Ό λ³΄λ‚΄κΈ° μ„ν•΄ CLOSE_WAIT μƒνƒ)
3. λ°μ΄ν„°λ¥Ό λ¨λ‘ λ³΄λƒλ‹¤λ©΄, μ—°κ²°μ΄ μΆ…λ£λμ—λ‹¤λ” FIN ν”λκ·Έλ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² λ³΄λ‚Έλ‹¤.
4. ν΄λΌμ΄μ–ΈνΈλ” FINμ„ λ°›κ³ , ν™•μΈν–λ‹¤λ” ACKλ¥Ό μ„λ²„μ—κ² λ³΄λ‚Έλ‹¤. (μ™„λ²½ν λλ‚κ²ƒμ€ μ•„λ‹ λ€κΈ°)
5. μ„λ²„λ” ACKλ¥Ό λ°›μ€ μ΄ν›„ μ†μΌ“ λ‹«μ
6. TIME_WAIT μ‹κ°„μ΄ λλ‚λ©΄ ν΄λΌμ΄μ–ΈνΈλ„ λ‹«μ



## 3. β…

---

# π¤” μ¤‘μ” λ‚΄μ© μ”μ•½ λ³µμµ

### 1. 3 way handshakeλ” μ—°κ²°, 4 way handshakeλ” μ—°κ²° ν•΄μ 

### 2. μ—°κ²°ν•΄μ μ‹ λ°”λ΅ λκΈ°λ”κ² μ•„λ‹λΌ μΌλ¶€ λ―Έμ „μ†΅ λ°μ΄ν„° μ†΅μμ‹ μ„ μ„ν•΄ μ™„λ²½ν λκΈ°μ§€μ•μ

