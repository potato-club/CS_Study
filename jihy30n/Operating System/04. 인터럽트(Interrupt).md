# 인터럽트 (Interrupt)

## 정의

- 프로그램을 실행하는 도중 예기치 않은 상황이 발생할 경우, 현재 실행 중인 작업을 즉시 중단하고 발생된 상황을 우선 처리해야 함을 CPU에게 알리는 메커니즘.
- 지금 수행 중인 작업보다 더 중요한 일(예: 입출력, 고우선 순위 연산 등)이 발생했을 경우, 해당 작업을 먼저 처리하고 다시 원래 작업을 계속함.

## 인터럽트의 종류

### 📌 외부 인터럽트
- 입출력 장치, 타이밍 장치, 전원 등 외부 요인에 의해 발생
- 예시: 전원 이상, 기계적 오류, 외부 신호, 입출력 완료 등

### 📌 내부 인터럽트 (Trap)
- 잘못된 명령이나 데이터 사용 등 프로그램 내부 오류에 의해 발생
- 예시: 0으로 나누기, 오버플로우, 잘못된 명령어 (Exception)

### 📌 소프트웨어 인터럽트
- 명령어 수행 중 사용자 요청이나 운영체제 호출(SVC)에 의해 발생
- 예시: 프로그램 실행 도중 운영체제 서비스 요청, 시분할 스케줄링에 의한 자원 할당


## 인터럽트 처리 과정

1. 주 프로그램 실행 도중 인터럽트 발생
2. 현재 상태(PC, 레지스터 등)를 스택에 저장
3. 인터럽트 서비스 루틴(ISR) 실행
4. ISR 종료 후, 저장해둔 상태를 복구하고 원래 작업으로 복귀

> 인터럽트 기능이 없었다면 컨트롤러는 상태 변화를 계속 체크해야 하며, 이를 폴링(Polling)이라고 함.

## 컨트롤러의 입력 감지 방식

### 폴링 방식
- 사용자가 명령어로 주기적으로 입력 핀 상태를 확인
- 인터럽트 요청 플래그를 순차적으로 확인하여 ISR 실행
- 속도가 느리고 자원 소모가 큼

### 인터럽트 방식
- 하드웨어적으로 변화가 생길 때만 자동 감지
- 실시간 응답이 빠름
- Daisy Chain, 병렬 우선순위 방식 등으로 우선순위 판단
- 하드웨어 지원 필요하지만 실시간 대응이 가능

---

# 질문
- 인터럽트가 발생했을 때 CPU가 먼저 수행하는 동작은?
  -> 현재 상태(PC, 레지스터 등)를 스택에 저장하고 인터럽트 서비스 루틴으로 이동함
- 내부 인터럽트는 어떤 상황에서 발생하는가?
  -> 0으로 나누기, 오버플로우, 잘못된 명령 사용 등 프로그램 내부 오류가 발생했을 때 발생함
- 폴링 방식과 비교했을 때 인터럽트 방식은 어떤 점에서 더 효율적인가?
  -> 하드웨어가 변화만 감지하므로, CPU가 불필요하게 반복 체크하지 않아도 되어 빠르고 자원 소모가 적음
