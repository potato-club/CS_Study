# SQL Injection

해커에 의해 조작된 SQL 쿼리문이 데이터베이스에 그대로 전달되어 비정상적인 명령을 실행시키는 공격 기법

## 공격 방법

### 1) 인증 우회
로그인 시 아이디와 비밀번호를 입력할 때, 예를 들어 ID가 `abc`, PASSWORD가 `1234`일 경우 다음과 같은 쿼리가 전송됨:

```sql
SELECT * FROM USER WHERE ID = "abc" AND PASSWORD = "1234";
```

SQL Injection 공격자는 입력창에 다음과 같이 악의적인 쿼리를 삽입할 수 있음:

```
1234; DELETE * USER FROM ID = "1";
```

또는 WHERE 절에 `OR '1' = '1'`을 추가하여 항상 조건이 참이 되도록 만들어 인증을 우회할 수 있음.

### 2) 데이터 노출
시스템에서 발생하는 에러 메시지를 이용해 공격  
GET 방식의 URL에 쿼리 스트링을 조작하여 에러 유발 →  
해당 에러를 통해 데이터베이스 구조를 유추하고 해킹에 활용

## 방어 방법

### 1) 특수문자 검사
입력값에 대해 특수문자 유무를 검사해 악의적 입력을 차단

### 2) 에러 메시지 감추기
SQL 서버 오류 발생 시, 에러 메시지를 노출하지 않도록 설정  
또는 view를 통해 사용자 접근을 제한

### 3) PreparedStatement 사용
PreparedStatement를 사용하면 특수문자가 자동으로 escaping 처리됨  
`?`로 값을 바인딩해 쿼리문과 데이터를 분리 → SQL Injection 방어 가능
